# 执行器配置
executor:
  # 风险评估配置
  risk:
    thresholds:
      medium: 30      # 中风险分数阈值
      high: 60        # 高风险分数阈值
      critical: 90    # 严重风险阈值
      auto_confirm_below: 20  # 低于此分数自动确认

    # 自定义规则权重
    rule_weights:
      data_deletion: 50
      service_restart: 40
      production_env: 30
      batch_operation: 20

  # 回滚配置
  rollback:
    enabled: true
    snapshot_path: /var/lib/kubestack/snapshots
    max_snapshots_per_plan: 10
    snapshot_ttl: 72h  # 快照保留时间

  # 确认配置
  confirmation:
    timeout: 5m        # 确认超时时间
    channels:
      - type: cli      # CLI确认
        enabled: true
      - type: webhook  # Webhook通知
        enabled: false
        url: ""

  # 持久化配置
  persistence:
    enabled: true
    path: /var/lib/kubestack/plans
    recovery_on_startup: true
